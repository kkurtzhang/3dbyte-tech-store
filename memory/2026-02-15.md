# Memory - 2026-02-15

## Session Summary

### Major Accomplishments

**Cart Integration**
- Cart API connected to Medusa backend using client-side SDK
- Switched from cookies to localStorage for cart ID persistence
- Cart context updated in `src/context/cart-context.tsx`

**API Fixes**
- Fixed Collections API 500 error - removed unsupported `fields` parameter from `collections.ts`
- Fixed CORS config in backend `.env` - added `localhost:3001` to STORE_CORS and AUTH_CORS

**New Pages Created**
- `/help` - Help Center with FAQ categories (Shipping, Returns, Account, Orders, Payment)
- `/docs` - Developer documentation with API reference and code examples
- `/guides` - 3D printing guides (Voron builds, filament selection, calibration)
- `/community` - Community hub with Discord, Forum, Events sections

**UI Fixes**
- Fixed footer links in `footer.tsx`:
  - Help Center → `/help`
  - Returns → `/returns`
  - FAQs → `/faq`
  - Social links updated (GitHub, Twitter, Discord)

### Stats
- Completed tasks: 85+
- Backlog: Empty
- Active sub-agents: 0

### Pending
- Backend restart required for CORS changes to take effect

### Process Update
- **Commit & push every 4th heartbeat** (hourly) - updated HEARTBEAT.md

### CMS Authority
- **Architect has authority to modify CMS content/single types** via URL (visually) or API
- **Do NOT modify code in apps/cms folder** - CMS is external source
- Single type content was originally for a furniture website - can update to match 3DByte design
- CMS URL: 192.168.0.45:1337
- Token in: apps/storefront-v3/.env (NEXT_PUBLIC_STRAPI_READ_TOKEN)

---

## Session 2 (09:00-09:15 GMT+11)

### Completed Tasks
- **PDP Layout Fix**: Moved "Frequently Bought Together" section directly under Add to Cart button
- **PDP Out of Stock**: Connected inventory logic to backend - API queries now fetch `inventory_quantity` and `manage_inventory` fields
- **PDP Rich Description**: Fixed CMS field mapping (`medusa_product_id`, `rich_description`, `product_handle`)
- **About Page**: Added redirect /about-us → /about, added "About" link to navigation

### Remaining Tasks (require CMS admin)
1. Docs Page: Update CMS content for 3D printing (TDS, SDS resources)
2. About-Us: Replace sofa.webp banner with 3D printing image

### Key Files Modified
- `apps/storefront-v3/src/features/product/templates/product-template.tsx` - PDP layout
- `apps/storefront-v3/src/lib/medusa/products.ts` - Inventory fields
- `apps/storefront-v3/src/app/products/[handle]/page.tsx` - CMS field mapping
- `apps/storefront-v3/next.config.js` - /about-us redirect
- `apps/storefront-v3/src/components/layout/navbar.tsx` - About nav link

### Git Commits
- `526f530` - PDP layout and CMS field mapping
- `9c9eea8` - About redirect and navigation

### Technical Notes
- Storefront at localhost:3001
- Backend at localhost:9000
- Sub-agents used: @Merchant (backend), @Pixel (storefront)
- Models used: zai/glm-4.7 (primary), opencode/minimax-m2.5-free (fallback)
